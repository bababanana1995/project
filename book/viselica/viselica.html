<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Виселица</title>
</head>

<body>
    <h1>Виселица</h1>
    <script>
        let words = [
            'hello',
            'dinosaurus',
            'dragon',
            'frog',
            'horse',
            'computer'
        ]

        
        let word = words[Math.floor(Math.random() * words.length)]
        let answerArray = []
        for (let i = 0; i < word.length; i++) {
            answerArray[i] = "_"
        }
        let remainingLetters = word.length
        let attempts = 10;


        
        while (remainingLetters > 0 && attempts > 0) {
            alert(answerArray.join(" "));
            // Запрашиваем вариант ответа
            let guess = prompt("Угадайте букву или нажмите Отмена для выхода из игры.");
            if (guess === null) {
                break;
            } else if (guess.length !== 1) {
                alert("Пожалуйста, введите только одну букву.");

            }else {
            let isGuessCorrect = false
            //    тут мы сделали условие, что бы регистр был маленьким всегда, и 
            // буква вводилась только один раз и remainingLetters не уменьшался
                guess = guess.toLowerCase()
                for (let j = 0; j < word.length; j++) {
                    if (word[j] === guess && answerArray[j] === "_") {
                        answerArray[j] = guess
                        remainingLetters--
                        isGuessCorrect = true

                }
            }
              if(isGuessCorrect === false){
                attempts--
                alert(`Буква "${guess}" неправильная осталось ${attempts} попыток`)
              }  

            }

        }
        alert(answerArray.join(" "))
        if (attempts > 0) {
            alert('Good word is ' + word)
        } else {
            alert('Not good boy')
        }


    </script>
</body>

</html>